---
import { getCollection } from "astro:content";
import PostSnippet from "../PostSnippet.astro";
import Anchor from "../common/Anchor.astro";
import { siteConfig } from "../../site.config";
import { getPosts } from "../../lib/utils";
import { getUrl } from "../../lib/utils";

const baseUrl = import.meta.env.BASE_URL;
const recentNotes = (await getPosts("notes")).slice(0, 5);
---

<div class="space-y-0 mb-20">
  <div class="flex justify-between items-center pb-5">
    <h2 class="text-3xl sm:text-4xl font-display theme-text">Recent Notes</h2>
    <Anchor url={getUrl("notes")} additonalClasses="theme-accent hover:theme-text transition-colors" hoverUnderline>
      View all notes â†’
    </Anchor>
  </div>
  
  {recentNotes.length > 0 ? (
    <div class="space-y-6">
      {recentNotes.map((note) => (
        <PostSnippet
          title={note.title}
          description={note.description}
          url={note.url}
          tags={note.tags}
          published={note.published}
          updated={note.updated}
        />
      ))}
    </div>
  ) : (
    <p class="theme-muted">No notes yet.</p>
  )}
</div>
